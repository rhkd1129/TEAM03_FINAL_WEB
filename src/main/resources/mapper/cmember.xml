<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
	
	<mapper namespace="cmember">
		<insert id="insert">
			insert into customer (mid, mpassword, mname, mtel, madress, mdate, salt)
			values (#{mid}, #{mpassword}, #{mname}, #{mtel}, #{madress}, NOW(), #{salt})
		</insert>
		
		<select id="selectByMid" resultType="cmember">
			select mid, mpassword, mname, mtel, madress, mdate from customer
			where mid = #{mid}
		</select>
		
		<select id="getSaltByMid" resultType="string">
			select salt from customer where mid = #{mid}
		</select>
		
		<select id="selectAllByPage" resultType="cmember">
			select mid, mpassword, mname, mtel, mdate, madress
			from customer order by mtel desc limit #{startIndex}, #{rowsPerPage}
		</select>
		
		<select id="count" resultType="int">
			select count(*) from customer
		</select>
		
		<delete id="deleteByMid">
			delete from customer where mid=#{mid}
		</delete>
		
		
		
		
		
		
		
		
		
		
		
	</mapper>